<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Character encoding -->
    <meta charset="UTF-8" />

    <!-- Title na makikita sa browser tab -->
    <title>Popi Bean Cafe | POS</title>

    <!-- Link papunta sa CSS file -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- ================= HEADER / TOP BAR ================= -->
    <!-- Ito yung nasa taas: Cafe name + Maintenance + Logout -->
    <header
      class="pos-header no-print"
      style="
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
        padding: 0 20px;
        background-color: var(--green-dark);
        height: 60px;
      "
    >
      <!-- Left side: Cafe name -->
      <div class="header-left">
        <h2 style="color: white; margin: 0; font-size: 24px">POPI BEAN CAFE</h2>
      </div>

      <!-- Right side: Maintenance + Logout buttons -->
      <div
        class="header-right"
        style="
          position: absolute;
          right: 20px;
          top: 50%;
          transform: translateY(-50%);
          display: flex;
          gap: 10px;
          z-index: 9999;
        "
      >
        <!-- Bubukas ng maintenance modal -->
        <button
          class="btn-outline"
          onclick="openMaintenance()"
          style="cursor: pointer; padding: 8px 15px"
        >
          Maintenance
        </button>

        <!-- Magla-logout at babalik sa index.html -->
        <button
          class="btn-outline"
          onclick="location.href='index.html'"
          style="cursor: pointer; padding: 8px 15px"
        >
          Logout
        </button>
      </div>
    </header>

    <!-- ================= MAIN POS LAYOUT ================= -->
    <div class="pos-container">
      <!-- ================= MENU SECTION (LEFT) ================= -->
      <section class="menu-section no-print">
        <!-- Category Tabs -->
        <div class="menu-tabs">
          <button class="tab-btn active" onclick="setCategory('drinks', event)">
            Drinks
          </button>
          <button class="tab-btn" onclick="setCategory('snacks', event)">
            Snacks
          </button>
          <button class="tab-btn" onclick="setCategory('addons', event)">
            Add-ons
          </button>
        </div>

        <!-- Lalagyan ng mga products (galing sa JS) -->
        <div
          class="menu-items"
          id="menuItems"
          style="
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 100px);
            gap: 15px;
          "
        ></div>

        <!-- Pagination buttons -->
        <div
          class="pagination-controls"
          style="
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
          "
        >
          <button class="btn-primary" id="prevBtn" onclick="changePage(-1)">
            ←
          </button>

          <!-- Page number -->
          <span
            id="pageDisplay"
            style="font-weight: bold; color: var(--green-dark)"
            >Page 1</span
          >

          <button class="btn-primary" id="nextBtn" onclick="changePage(1)">
            →
          </button>
        </div>
      </section>

      <!-- ================= ORDER SECTION (RIGHT) ================= -->
      <aside class="order-section">
        <!-- Ito lang ang lalabas sa printed receipt -->
        <div class="print-only" style="text-align: center; margin-bottom: 20px">
          <h1 style="font-family: 'Courier New', monospace">POPI BEAN CAFE</h1>
          <p>Official Receipt</p>
          <div class="receipt-dashed"></div>
        </div>

        <!-- Current Order title -->
        <h3 class="no-print">Current Order</h3>

        <!-- Dine-In / Take-Out buttons -->
        <div
          class="order-type-tabs no-print"
          style="display: flex; gap: 5px; margin-bottom: 10px"
        >
          <button
            class="type-btn active"
            onclick="setOrderType('Dine-In', event)"
            style="flex: 1"
          >
            Dine-In
          </button>
          <button
            class="type-btn"
            onclick="setOrderType('Take-Out', event)"
            style="flex: 1"
          >
            Take-Out
          </button>
        </div>

        <!-- Display ng current order mode -->
        <p class="no-print" style="font-size: 12px; margin-bottom: 10px">
          Customer Mode: <strong id="modeDisplay">Dine-In</strong>
        </p>

        <!-- Lalagyan ng ordered items -->
        <div class="order-list" id="orderList"></div>

        <!-- Totals section -->
        <div class="totals-container">
          <div class="receipt-dashed"></div>

          <div class="total-row">
            <span>Subtotal</span><span id="subtotalDisplay">₱0.00</span>
          </div>

          <div class="total-row">
            <span>Tax (6%)</span><span id="taxDisplay">₱0.00</span>
          </div>

          <div class="receipt-double-dashed"></div>

          <div
            class="grand-total"
            style="display: flex; justify-content: space-between"
          >
            <span>TOTAL</span><span id="totalDisplay">₱0.00</span>
          </div>

          <div class="receipt-dashed"></div>
        </div>

        <!-- Clear + Place Order buttons -->
        <div
          class="order-actions no-print"
          style="
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 10px;
            margin-top: 15px;
          "
        >
          <button class="btn-clear" onclick="clearOrder()">Clear</button>
          <button class="btn-primary" onclick="placeOrder()">
            PLACE ORDER
          </button>
        </div>
      </aside>
    </div>

    <!-- ================= MAINTENANCE MODAL ================= -->
    <!-- Lalabas kapag pinindot ang Maintenance -->
    <div
      class="modal"
      id="maintenanceModal"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 2000;
        justify-content: center;
        align-items: center;
      "
    >
      <div
        class="modal-content"
        style="
          background: white;
          padding: 25px;
          border-radius: 20px;
          width: 400px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        "
      >
        <h3 style="margin-bottom: 15px; color: var(--green-dark)">
          Maintenance
        </h3>

        <!-- Add new item form -->
        <div
          style="
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
            margin-bottom: 20px;
          "
        >
          <p
            style="
              font-size: 11px;
              font-weight: bold;
              color: #666;
              margin-bottom: 8px;
              text-transform: uppercase;
            "
          >
            Add New Item
          </p>

          <!-- Item name -->
          <input type="text" id="itemName" placeholder="Item Name" />

          <!-- Item price -->
          <input type="number" id="itemPrice" placeholder="Price (₱)" />

          <!-- Category selector -->
          <select id="itemCat">
            <option value="drinks">Drinks</option>
            <option value="snacks">Snacks</option>
            <option value="addons">Add-ons</option>
          </select>

          <!-- Add item button -->
          <button class="btn-primary" onclick="addItem()">Add New Item</button>
        </div>

        <!-- Delete item section -->
        <div>
          <p
            style="
              font-size: 11px;
              font-weight: bold;
              color: #666;
              margin-bottom: 8px;
              text-transform: uppercase;
            "
          >
            Manage Items (Delete)
          </p>

          <!-- Dropdown ng items -->
          <select id="deleteDropdown"></select>

          <!-- Delete button -->
          <button onclick="deleteItemSelected()">Delete Item</button>

          <!-- Success message -->
          <p id="successMsg" style="display: none">Action successful!</p>

          <!-- Back button -->
          <button class="btn-clear" onclick="closeMaintenance()">Back</button>
        </div>
      </div>
    </div>

    <!-- JavaScript file -->
    <script src="script.js"></script>
  </body>
</html>
